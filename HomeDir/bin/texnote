#!/bin/bash
set -e

# Copy the File Template
#cp ~/Templates/LaTeX.tex .


# Test that the directory is empty
if [ -z "$(ls -A .)" ]; then
   echo "Empty"
else
    echo "Directory Not Empty, Press y to continue"
    read -p 'Continue?: ' continue 
    if [ $continue != 'y' ]; then
        exit 1
    fi
fi

# Copy the File Template
echo "Please enter a filename ðŸ’¼: "
read -p 'Filename: ' filename 
cp ~/Templates/LaTeX.tex ./$filename.tex

#Change the Heading
echo "Please enter a Document Heading: "
read -p 'Title â: ' title 
sed -i "s/Title913498432198/$title/g" $filename.tex

#Compile the latex
pdflatex -interaction=nonstopmode $filename.tex #&& disown #use && not &, must wait for it to finish or zathura cannot load

#hide latex files in directory
ls *.aux *.bbl *.blg *.brf *.lof *.log *.lot *.out *.toc -1 > .hidden & disown


#Preview PDF
#zathura $filename.pdf & disown
    # I found a python script online that will resize the window
setwindow "zathura "$filename.pdf"" 960 0 50 100 & disown

#Open in Vim
vim +173 $filename.tex



